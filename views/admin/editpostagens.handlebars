{{#each erros}}
    <div class="alert alert-danger">{{texto}}</div>
{{else}}

{{/each}}

<h3>Editar postagem: </h3>
<div class="card">
    <div class="card-body">
        <form action="/admin/postagens/edit" method="POST">
            <input type="hidden" value="{{postagem._id}}" name="id">
            <label for="titulo">Título: </label>
            <input type="text" name="titulo" class="form-control" value="{{postagens.titulo}}" required>
            <label for="slug">Slug: </label>
            <input type="text" name="slug" class="form-control" value="{{postagens.slug}}"required>
            <label for="descricao">Descrição: </label>
            <input type="text" name="descricao" class="form-control" value="{{postagens.descricao}}" required>
            <label for="conteudo">Conteúdo: </label>
            <textarea name="conteudo" class="form-control" required>{{postagens.conteudo}}</textarea>
            <label for="categoria">Categoria: </label>
            <select name="categoria" class="custom-select">
                {{#each categorias}}
                    <option value="{{_id}}">{{nome}}</option>
                {{else}}
                    <option value="0">Nenhuma categoria registrada</option>
                {{/each}}
            </select>
            <hr>
            <button class="btn btn-success mt-4" type="submit">Editar postagem</button>
        </form>
    </div>
</div>

<script>
    document.body.onload = new function(){
        var cat = document.getElementById('categoria')
        var categoriaPost = "{{postagens.categoria._id}}"
        var categoria = cat.options[0].value
        while (categoria != categoriaPost){
            cat.selectedIndex++
            categoria=cat.options[cat.selectedIndex].value
        }
    }
</script>